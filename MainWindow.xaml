<?xml version="1.0" encoding="utf-8"?>
<Window
    x:Class="Gemini_Windows_App.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Gemini_Windows_App"
    Title="Gemini Windows App">

    <Window.SystemBackdrop>
        <MicaBackdrop />
    </Window.SystemBackdrop>

    <Grid Padding="40">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <TextBlock Text="Gemini Desktop" 
                   FontSize="32" FontWeight="Bold" 
                   HorizontalAlignment="Center" Margin="0,0,0,20"
                   Grid.Row="0" Foreground="{ThemeResource SystemControlForegroundBaseHighBrush}"/>

        <Grid Grid.Row="1" Margin="0,0,0,20">
            <Border Background="{ThemeResource LayerFillColorDefaultBrush}" 
                    CornerRadius="8" 
                    BorderThickness="1" 
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}">
                <Grid>
                    <ScrollViewer Padding="15">
                        <TextBlock x:Name="ResponseText" 
                                   Text="La réponse apparaîtra ici..." 
                                   TextWrapping="Wrap" 
                                   FontSize="16"
                                   LineHeight="24"
                                   Margin="0,0,45,0"
                                   Foreground="{ThemeResource SystemControlForegroundBaseHighBrush}"/>
                    </ScrollViewer>

                    <Button x:Name="CopyButton" 
                            Click="CopyButton_Click" 
                            VerticalAlignment="Top" 
                            HorizontalAlignment="Right" 
                            Margin="5" 
                            Background="Transparent" 
                            BorderBrush="Transparent"
                            ToolTipService.ToolTip="Copier la réponse">
                        <SymbolIcon Symbol="Copy" Foreground="{ThemeResource SystemControlForegroundBaseMediumBrush}"/>
                    </Button>
                </Grid>
            </Border>
        </Grid>

        <ProgressBar x:Name="LoadingBar" 
                     IsIndeterminate="True" 
                     Visibility="Collapsed" 
                     Margin="0,0,0,10"
                     Grid.Row="2"/>

        <Grid Grid.Row="3">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <TextBox x:Name="UserInput" 
                     PlaceholderText="Pose ta question ici..." 
                     Margin="0,0,10,0"
                     VerticalAlignment="Center"
                     Grid.Column="0"/>

            <Button x:Name="myButton" 
                    Click="myButton_Click"
                    Style="{StaticResource AccentButtonStyle}"
                    Padding="20,8"
                    Grid.Column="1">
                <StackPanel Orientation="Horizontal" Spacing="8">
                    <SymbolIcon Symbol="Send" />
                    <TextBlock Text="Envoyer" />
                </StackPanel>
            </Button>
        </Grid>
    </Grid>
</Window>